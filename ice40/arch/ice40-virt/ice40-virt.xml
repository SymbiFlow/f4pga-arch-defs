<?xml version="1.0"?>
<architecture >
 <!-- ODIN-II model description for non-standard block type -->
 <models>

  <model name="SB_LUT4" >
   <input_ports>
    <port name="I0" combinational_sink_ports="O"/>
    <port name="I1" combinational_sink_ports="O"/>
    <port name="I2" combinational_sink_ports="O"/>
    <port name="I3" combinational_sink_ports="O"/>
   </input_ports>
   <output_ports>
    <port name="O"/>
   </output_ports>
  </model>


  <model name="SB_DFF" >
   <input_ports>
    <port name="C" is_clock="1"/>
    <port name="D" clock="C"/>
   </input_ports>
   <output_ports>
    <port name="Q" clock="C"/>
   </output_ports>
  </model>
  <model name="SB_DFFSR" >
   <input_ports>
    <port name="C" is_clock="1"/>
    <port name="R" clock="C"/>
    <port name="D" clock="C"/>
   </input_ports>
   <output_ports>
    <port name="Q" clock="C"/>
   </output_ports>
  </model>
  <model name="SB_DFFSS" >
   <input_ports>
    <port name="C" is_clock="1"/>
    <port name="S" clock="C"/>
    <port name="D" clock="C"/>
   </input_ports>
   <output_ports>
    <port name="Q" clock="C"/>
   </output_ports>
  </model>
  <model name="SB_DFFESS" >
   <input_ports>
    <port name="C" is_clock="1"/>
    <port name="S" clock="C"/>
    <port name="E" clock="C"/>
    <port name="D" clock="C"/>
   </input_ports>
   <output_ports>
    <port name="Q" clock="C"/>
   </output_ports>
  </model>


  <model name="CARRY" >
   <input_ports>
    <port name="I1" combinational_sink_ports="FCOUT"/>
    <port name="I2" combinational_sink_ports="FCOUT"/>
    <port name="FCIN" combinational_sink_ports="FCOUT"/>
   </input_ports>
   <output_ports>
    <port name="FCOUT"/>
   </output_ports>
  </model>

 </models>
 <!-- Layout of the FPGA, we are using 4x4 -->
 <layout>
  <fixed_layout name="HX1K" width="16" height="20">
   <region type="PLB" startx="2" endx="13" starty="2" endy="17" priority="4"/>
   <!-- Create io blocks around the device perimeter -->
   <col type="EMPTY" startx="0" priority="30"/>
   <col type="PIO" startx="1" priority="10"/>
   <col type="PIO" startx="14" priority="10"/>
   <col type="EMPTY" startx="15" priority="30"/>
   <!-- -->
   <row type="EMPTY" starty="0" priority="31"/>
   <row type="PIO" starty="1" priority="11"/>
   <row type="PIO" starty="18" priority="11"/>
   <row type="EMPTY" starty="19" priority="31"/>
   <!-- Create empty blocks at all corners -->
   <single type="EMPTY" x="1" y="1" priority="30"/>
   <single type="EMPTY" x="14" y="1" priority="30"/>
   <single type="EMPTY" x="1" y="18" priority="30"/>
   <single type="EMPTY" x="14" y="18" priority="30"/>
  </fixed_layout>
 </layout>
 <!--
 <directlist>
 -->
 <!-- Carry chain from one PLB to the next PLB
  <direct name="CARRY" from_pin="PLB.FCOUT" to_pin="PLB.FCIN" x_offset="0" y_offset="-1" z_offset="0"/>
 </directlist>
       -->
 <device>
  <sizing R_minW_nmos="6065.520020" R_minW_pmos="18138.500000"/>
  <area grid_logic_tile_area="14813.392"/>
  <connection_block input_switch_name="2"/>
  <switch_block type="custom" fs="3"/>
  <chan_width_distr>
   <x distr="uniform" peak="1.000000"/>
   <y distr="uniform" peak="1.000000"/>
  </chan_width_distr>
 </device>
 <switchlist>
  <!-- name="buffer"  == name="0" -->
  <!-- name="routing" == name="1" -->
  <switch type="mux" name="1" R="551" Cin=".77e-15" Cout="4e-15" Tdel="58e-12" mux_trans_size="2.630740" buf_size="27.645901"/>
  <switch type="mux" name="2" R="551" Cin=".77e-15" Cout="4e-15" Tdel="58e-12" mux_trans_size="2.630740" buf_size="27.645901"/>
 </switchlist>
 <segmentlist>
  <!-- Global networks -->
  <segment name="global" length="longline" freq="1.000000" type="bidir" Rmetal="101" Cmetal="22.5e-15">
   <sb type="pattern">1 1</sb>
   <cb type="pattern">0</cb>
   <wire_switch name="1"/>
   <opin_switch name="2"/>
  </segment>
  <!-- Span 12 vertical   tracks -->
  <!-- Span 12 horizontal tracks -->
  <segment name="span12" length="12" freq="1.000000" type="bidir" Rmetal="101" Cmetal="22.5e-15">
   <sb type="pattern">1 1 1 1 1 1 1 1 1 1 1 1 1</sb>
   <cb type="pattern">0 0 0 0 0 0 0 0 0 0 0 0</cb>
   <wire_switch name="1"/>
   <opin_switch name="2"/>
  </segment>
  <!-- Span 4 vertical   tracks -->
  <!-- Span 4 horizontal tracks -->
  <segment name="span4" length="4" freq="1.000000" type="bidir" Rmetal="101" Cmetal="22.5e-15">
   <sb type="pattern">1 1 1 1 1</sb>
   <cb type="pattern">0 0 0 0</cb>
   <wire_switch name="1"/>
   <opin_switch name="2"/>
  </segment>
  <!-- Neighbourhood tracks 
  <segment name="neigh" length="1" freq="1.000000" type="bidir" Rmetal="101" Cmetal="22.5e-15">
   <sb type="pattern">1 1</sb>
   <cb type="pattern">0</cb>
   <wire_switch name="1"/>
   <opin_switch name="0"/>
  </segment>
  -->
  <!-- Local tracks -->
  <segment name="local" length="1" freq="1.000000" type="bidir" Rmetal="101" Cmetal="22.5e-15">
   <sb type="pattern">0 1</sb>
   <cb type="pattern">1</cb>
   <wire_switch name="2"/>
   <opin_switch name="2"/>
  </segment>
 </segmentlist>
 <switchblocklist>
  <switchblock name="xx2local" type="bidir">
   <switchblock_location type="EVERYWHERE"/>
   <switchfuncs>
    <func type="lr" formula="t"/>
    <func type="rt" formula="t"/>
    <func type="lt" formula="t"/>
    <func type="rb" formula="t"/>
    <func type="lb" formula="t"/>
    <!--
     <func type="lb" formula="t"/>
     <func type="rt" formula="W-t"/>
     <func type="br" formula="t"/>
     <func type="lr" formula="t"/>
     <func type="bt" formula="t"/>
     <func type="rl" formula="t"/>
     <func type="tl" formula="t"/>
     <func type="bl" formula="t"/>
     <func type="tr" formula="t"/>
     <func type="rb" formula="t"/>
     <func type="tb" formula="t"/> -->
   </switchfuncs>
   <wireconn num_conns_type="max">
    <from type="span4" switchpoint="0,1,2,3"/>
    <from type="span12" switchpoint="0,1,2,3,4,5,6,7,8,9,10,11"/>
    <to type="local" switchpoint="0"/>
   </wireconn>
  </switchblock>
  <switchblock name="local2xx" type="bidir">
   <switchblock_location type="EVERYWHERE"/>
   <switchfuncs>
    <func type="tb" formula="t"/>
    <func type="lr" formula="t"/>
    <func type="rt" formula="t"/>
    <func type="lt" formula="t-W"/>
    <func type="rb" formula="t"/>
    <func type="lb" formula="t-W"/>
    <!--
     <func type="br" formula="t"/>
     <func type="lr" formula="t"/>
     <func type="bt" formula="t"/>
     <func type="rl" formula="t"/>
     <func type="tl" formula="t"/>
     <func type="bl" formula="t"/>
     <func type="tr" formula="t"/>
     <func type="rb" formula="t"/>
     <func type="tb" formula="t"/> -->
   </switchfuncs>
   <wireconn num_conns_type="max">
    <from type="local" switchpoint="0"/>
    <to type="span4" switchpoint="0,1,2,3"/>
    <to type="span12" switchpoint="0,1,2,3,4,5,6,7,8,9,10,11"/>
   </wireconn>
  </switchblock>
  <switchblock name="global2local" type="bidir">
   <switchblock_location type="EVERYWHERE"/>
   <switchfuncs>
    <func type="lr" formula="t"/>
    <func type="lt" formula="W-t"/>
    <func type="lb" formula="t"/>
    <func type="rt" formula="W-t"/>
    <func type="br" formula="t"/>
    <!--
     <func type="bt" formula="t"/>
     <func type="rl" formula="t"/>
     <func type="tl" formula="t"/>
     <func type="bl" formula="t"/>
     <func type="tr" formula="t"/>
     <func type="rb" formula="t"/>
     <func type="tb" formula="t"/> -->
   </switchfuncs>
   <wireconn num_conns_type="max">
    <from type="global" switchpoint="0"/>
    <to type="local" switchpoint="0"/>
   </wireconn>
  </switchblock>
 </switchblocklist>
 <!-- Description of the block tiles available in the iCE40 -->
 <complexblocklist>

  <!-- set: ai sw=1 ts=1 sta et -->
  <!-- A diagram for the iCE40 PLB "Logic Cell" is shown in;
        http://www.latticesemi.com/~/media/LatticeSemi/Documents/DataSheets/iCE/iCE40LPHXFamilyDataSheet.pdf
        Architecture iCE40 LP/HX Family Data Sheet
         * Figure 2-2. PLB Block Diagram

       It is 8 x (CARRY + SB_LUT4 + FF)
    -->
  <pb_type name="PLB" >
   <!-- SB_LUT4 inputs -->
   <input name="I0" num_pins="4" equivalent="false"/>
   <input name="I1" num_pins="4" equivalent="false"/>
   <input name="I2" num_pins="4" equivalent="false"/>
   <input name="I3" num_pins="4" equivalent="false"/>
   <input name="I4" num_pins="4" equivalent="false"/>
   <input name="I5" num_pins="4" equivalent="false"/>
   <input name="I6" num_pins="4" equivalent="false"/>
   <input name="I7" num_pins="4" equivalent="false"/>
   <!-- D Flipflop outputs -->
   <output name="O0" num_pins="1" equivalent="false"/>
   <output name="O1" num_pins="1" equivalent="false"/>
   <output name="O2" num_pins="1" equivalent="false"/>
   <output name="O3" num_pins="1" equivalent="false"/>
   <output name="O4" num_pins="1" equivalent="false"/>
   <output name="O5" num_pins="1" equivalent="false"/>
   <output name="O6" num_pins="1" equivalent="false"/>
   <output name="O7" num_pins="1" equivalent="false"/>
   <!-- D Flipflop controls -->
   <clock name="CLK" num_pins="1"/>
   <input name="EN" num_pins="1" equivalent="false"/>
   <input name="SR" num_pins="1" equivalent="false"/>
   <!-- Carry chain
   <input name="FCIN"  num_pins="1" equivalent="false"/>
   <output name="FCOUT" num_pins="1" equivalent="false"/>
   -->
   <!-- A PLB contains the same 'cell' repeated 8 times. -->
   <pb_type name="PLB_CELL" num_pb="8">
    <!-- Data -->
    <input name="I" num_pins="4" equivalent="false"/>
    <output name="O" num_pins="1" equivalent="false"/>
    <!-- Flipflop controls -->
    <clock name="CLK" num_pins="1"/>
    <input name="EN" num_pins="1" equivalent="false"/>
    <input name="SR" num_pins="1" equivalent="false"/>
    <!-- Fast carry -->
    <input name="FCIN" num_pins="1" equivalent="false"/>
    <output name="FCOUT" num_pins="1" equivalent="false"/>
    <!-- 4 input LUT -->

    <!-- 4 input LUT found in the ICE40 -->
    <pb_type name="LUT" num_pb="1" >
     <input name="I" num_pins="4"/>
     <output name="O" num_pins="1"/>
     <!--
	FIXME: The VPR LUT mode must be first, otherwise VPR can't route
	through the LUT.
     -->
     <mode name="VPR_LUT4">
      <pb_type name="LUT4" num_pb="1" class="lut" blif_model=".names">
       <input name="in" num_pins="4" port_class="lut_in"/>
       <output name="out" num_pins="1" port_class="lut_out"/>
       <delay_matrix type="max" in_port="LUT4.in" out_port="LUT4.out">
        10e-12
        10e-12
        10e-12
        10e-12
       </delay_matrix>
      </pb_type>
      <interconnect>
       <direct name="I" input="LUT.I" output="LUT4.in"/>
       <direct name="O" input="LUT4.out" output="LUT.O"/>
      </interconnect>
     </mode>
     <mode name="SB_LUT4">
      <pb_type name="SB_LUT4" num_pb="1" blif_model=".subckt SB_LUT4">
       <input name="I0" num_pins="1"/>
       <input name="I1" num_pins="1"/>
       <input name="I2" num_pins="1"/>
       <input name="I3" num_pins="1"/>
       <output name="O" num_pins="1"/>
       <delay_constant max="10e-12" in_port="SB_LUT4.I0" out_port="SB_LUT4.O"/>
       <delay_constant max="10e-12" in_port="SB_LUT4.I1" out_port="SB_LUT4.O"/>
       <delay_constant max="10e-12" in_port="SB_LUT4.I2" out_port="SB_LUT4.O"/>
       <delay_constant max="10e-12" in_port="SB_LUT4.I3" out_port="SB_LUT4.O"/>
      </pb_type>
      <interconnect>
       <direct name="I0" input="LUT.I[0:0]" output="SB_LUT4.I0"/>
       <direct name="I1" input="LUT.I[1:1]" output="SB_LUT4.I1"/>
       <direct name="I2" input="LUT.I[2:2]" output="SB_LUT4.I2"/>
       <direct name="I3" input="LUT.I[3:3]" output="SB_LUT4.I3"/>
       <direct name="O" input="SB_LUT4.O" output="LUT.O"/>
      </interconnect>
     </mode>
    </pb_type>

    <!-- D FlipFlop -->

    <!-- Flip flop found inside the iCE40 -->
    <pb_type name="SB_FF" num_pb="1" >
     <clock name="C" num_pins="1"/>
     <input name="E" num_pins="1"/>
     <input name="S" num_pins="1"/>
     <input name="D" num_pins="1"/>
     <output name="Q" num_pins="1"/>
     <mode name="SB_DFF">
      <pb_type name="SB_DFF" num_pb="1" blif_model=".subckt SB_DFF">
       <clock name="C" num_pins="1"/>
       <input name="D" num_pins="1"/>
       <output name="Q" num_pins="1"/>
       <T_setup value="10e-12" port="SB_DFF.D" clock="C"/>
       <T_clock_to_Q max="10e-12" port="SB_DFF.Q" clock="C"/>
      </pb_type>
      <interconnect>
       <direct name="C" input="SB_FF.C" output="SB_DFF.C"/>
       <direct name="D" input="SB_FF.D" output="SB_DFF.D"/>
       <direct name="Q" input="SB_DFF.Q" output="SB_FF.Q"/>
      </interconnect>
     </mode>
     <mode name="SB_DFFSS">
      <pb_type name="SB_DFFSS" num_pb="1" blif_model=".subckt SB_DFFSS">
       <clock name="C" num_pins="1"/>
       <input name="S" num_pins="1"/>
       <input name="D" num_pins="1"/>
       <output name="Q" num_pins="1"/>
       <T_setup value="10e-12" port="SB_DFFSS.D" clock="C"/>
       <T_setup value="10e-12" port="SB_DFFSS.S" clock="C"/>
       <T_clock_to_Q max="10e-12" port="SB_DFFSS.Q" clock="C"/>
      </pb_type>
      <interconnect>
       <direct name="C" input="SB_FF.C" output="SB_DFFSS.C"/>
       <direct name="S" input="SB_FF.S" output="SB_DFFSS.S"/>
       <direct name="D" input="SB_FF.D" output="SB_DFFSS.D"/>
       <direct name="Q" input="SB_DFFSS.Q" output="SB_FF.Q"/>
      </interconnect>
     </mode>
     <mode name="SB_DFFSR">
      <pb_type name="SB_DFFSR" num_pb="1" blif_model=".subckt SB_DFFSR">
       <clock name="C" num_pins="1"/>
       <input name="R" num_pins="1"/>
       <input name="D" num_pins="1"/>
       <output name="Q" num_pins="1"/>
       <T_setup value="10e-12" port="SB_DFFSR.D" clock="C"/>
       <T_setup value="10e-12" port="SB_DFFSR.R" clock="C"/>
       <T_clock_to_Q max="10e-12" port="SB_DFFSR.Q" clock="C"/>
      </pb_type>
      <interconnect>
       <direct name="C" input="SB_FF.C" output="SB_DFFSR.C"/>
       <direct name="S" input="SB_FF.S" output="SB_DFFSR.R"/>
       <direct name="D" input="SB_FF.D" output="SB_DFFSR.D"/>
       <direct name="Q" input="SB_DFFSR.Q" output="SB_FF.Q"/>
      </interconnect>
     </mode>
     <mode name="SB_DFFESS">
      <pb_type name="SB_DFFESS" num_pb="1" blif_model=".subckt SB_DFFESS">
       <clock name="C" num_pins="1"/>
       <input name="E" num_pins="1"/>
       <input name="S" num_pins="1"/>
       <input name="D" num_pins="1"/>
       <output name="Q" num_pins="1"/>
       <T_setup value="10e-12" port="SB_DFFESS.D" clock="C"/>
       <T_setup value="10e-12" port="SB_DFFESS.E" clock="C"/>
       <T_setup value="10e-12" port="SB_DFFESS.S" clock="C"/>
       <T_clock_to_Q max="10e-12" port="SB_DFFESS.Q" clock="C"/>
      </pb_type>
      <interconnect>
       <direct name="C" input="SB_FF.C" output="SB_DFFESS.C"/>
       <direct name="E" input="SB_FF.E" output="SB_DFFESS.E"/>
       <direct name="S" input="SB_FF.S" output="SB_DFFESS.S"/>
       <direct name="D" input="SB_FF.D" output="SB_DFFESS.D"/>
       <direct name="Q" input="SB_DFFESS.Q" output="SB_FF.Q"/>
      </interconnect>
     </mode>
    </pb_type>

    <!-- CARRY -->

    <!-- Carry logic found in the ICE40 -->
    <pb_type name="CARRY" num_pb="1" blif_model=".subckt CARRY" >
     <input name="I2" num_pins="1"/>
     <input name="FCIN" num_pins="1"/>
     <input name="I1" num_pins="1"/>
     <output name="FCOUT" num_pins="1"/>
     <delay_constant max="10e-12" in_port="CARRY.FCIN" out_port="CARRY.FCOUT"/>
     <delay_constant max="10e-12" in_port="CARRY.I2" out_port="CARRY.FCOUT"/>
     <delay_constant max="10e-12" in_port="CARRY.I1" out_port="CARRY.FCOUT"/>
    </pb_type>

    <!-- Connect the PLB_CELL together -->
    <interconnect>
     <complete name="I0" input="PLB_CELL.I[0:0]" output="LUT.I[0:0]"/>
     <complete name="I1" input="PLB_CELL.I[1:1]" output="LUT.I[1:1] CARRY.I1"/>
     <complete name="I2" input="PLB_CELL.I[2:2]" output="LUT.I[2:2] CARRY.I2"/>
     <mux name="I3" input="PLB_CELL.I[3:3] PLB_CELL.FCIN" output="LUT.I[3:3]"/>
     <mux name="O" input="LUT.O SB_FF.Q" output="PLB_CELL.O"/>
     <direct name="FF_D" input="LUT.O" output="SB_FF.D">
      <!--
       <pack_pattern name="LUT2FF" in_port="LUT.O" out_port="SB_FF.D"/>
      -->
     </direct>
     <direct name="FF_CK" input="PLB_CELL.CLK" output="SB_FF.C"/>
     <direct name="FF_EN" input="PLB_CELL.EN" output="SB_FF.E"/>
     <direct name="FF_SR" input="PLB_CELL.SR" output="SB_FF.S"/>
     <direct name="FCIN" input="PLB_CELL.FCIN" output="CARRY.FCIN"/>
     <direct name="FCOUT" input="CARRY.FCOUT" output="PLB_CELL.FCOUT"/>
     <!-- Find LUT+FF pairs in netlist -->
    </interconnect>
   </pb_type>
   <interconnect>
    <!-- Inputs -->
    <direct name="I0" input="PLB.I0" output="PLB_CELL[0:0].I"/>
    <direct name="I1" input="PLB.I1" output="PLB_CELL[1:1].I"/>
    <direct name="I2" input="PLB.I2" output="PLB_CELL[2:2].I"/>
    <direct name="I3" input="PLB.I3" output="PLB_CELL[3:3].I"/>
    <direct name="I4" input="PLB.I4" output="PLB_CELL[4:4].I"/>
    <direct name="I5" input="PLB.I5" output="PLB_CELL[5:5].I"/>
    <direct name="I6" input="PLB.I6" output="PLB_CELL[6:6].I"/>
    <direct name="I7" input="PLB.I7" output="PLB_CELL[7:7].I"/>
    <!-- Outputs -->
    <direct name="O0" input="PLB_CELL[0:0].O" output="PLB.O0"/>
    <direct name="O1" input="PLB_CELL[1:1].O" output="PLB.O1"/>
    <direct name="O2" input="PLB_CELL[2:2].O" output="PLB.O2"/>
    <direct name="O3" input="PLB_CELL[3:3].O" output="PLB.O3"/>
    <direct name="O4" input="PLB_CELL[4:4].O" output="PLB.O4"/>
    <direct name="O5" input="PLB_CELL[5:5].O" output="PLB.O5"/>
    <direct name="O6" input="PLB_CELL[6:6].O" output="PLB.O6"/>
    <direct name="O7" input="PLB_CELL[7:7].O" output="PLB.O7"/>
    <!-- All flipflops inside a PLB share the CLK, SR & CE signal -->
    <complete name="CLK" input="PLB.CLK" output="PLB_CELL[7:0].CLK"/>
    <!-- <mux name="SR" input="GND PLB.SR" output="PLB_CELL[7:0].SR" /> -->
    <complete name="SR" input="PLB.SR" output="PLB_CELL[7:0].SR"/>
    <!-- <mux name="EN" input="VCC PLB.EN" output="PLB_CELL[7:0].EN" /> -->
    <complete name="EN" input="PLB.EN" output="PLB_CELL[7:0].EN"/>
    <!-- Carry chain -->
    <direct name="FCIN0" input="PLB_CELL[1:1].FCOUT" output="PLB_CELL[0:0].FCIN"/>
    <direct name="FCIN1" input="PLB_CELL[2:2].FCOUT" output="PLB_CELL[1:1].FCIN"/>
    <direct name="FCIN2" input="PLB_CELL[3:3].FCOUT" output="PLB_CELL[2:2].FCIN"/>
    <direct name="FCIN3" input="PLB_CELL[4:4].FCOUT" output="PLB_CELL[3:3].FCIN"/>
    <direct name="FCIN4" input="PLB_CELL[5:5].FCOUT" output="PLB_CELL[4:4].FCIN"/>
    <direct name="FCIN5" input="PLB_CELL[6:6].FCOUT" output="PLB_CELL[5:5].FCIN"/>
   </interconnect>
   <fc default_in_type="frac" default_in_val="0.0" default_out_type="frac" default_out_val="0.0">
    <!-- Connect all the ports to 2 local tracks -->
    <fc_override fc_type="abs" fc_val="2" port_name="I0" segment_name="local"/>
    <fc_override fc_type="abs" fc_val="2" port_name="I1" segment_name="local"/>
    <fc_override fc_type="abs" fc_val="2" port_name="I2" segment_name="local"/>
    <fc_override fc_type="abs" fc_val="2" port_name="I3" segment_name="local"/>
    <fc_override fc_type="abs" fc_val="2" port_name="I4" segment_name="local"/>
    <fc_override fc_type="abs" fc_val="2" port_name="I5" segment_name="local"/>
    <fc_override fc_type="abs" fc_val="2" port_name="I6" segment_name="local"/>
    <fc_override fc_type="abs" fc_val="2" port_name="I7" segment_name="local"/>
    <fc_override fc_type="abs" fc_val="2" port_name="O0" segment_name="local"/>
    <fc_override fc_type="abs" fc_val="2" port_name="O1" segment_name="local"/>
    <fc_override fc_type="abs" fc_val="2" port_name="O2" segment_name="local"/>
    <fc_override fc_type="abs" fc_val="2" port_name="O3" segment_name="local"/>
    <fc_override fc_type="abs" fc_val="2" port_name="O4" segment_name="local"/>
    <fc_override fc_type="abs" fc_val="2" port_name="O5" segment_name="local"/>
    <fc_override fc_type="abs" fc_val="2" port_name="O6" segment_name="local"/>
    <fc_override fc_type="abs" fc_val="2" port_name="O7" segment_name="local"/>
    <fc_override fc_type="abs" fc_val="2" port_name="EN" segment_name="local"/>
    <fc_override fc_type="abs" fc_val="2" port_name="SR" segment_name="local"/>
    <fc_override fc_type="abs" fc_val="2" port_name="CLK" segment_name="local"/>
    <!-- Carry chain doesn't connect to the interconnect
    <fc_override fc_type="frac" fc_val="0" port_name="PLB.CIN"/>
    <fc_override fc_type="frac" fc_val="0" port_name="PLB.COUT"/>
 -->
   </fc>
   <pinlocations pattern="custom">
    <loc side="right" xoffset="0" yoffset="0">
     PLB.I0 PLB.I1 PLB.I2 PLB.I3 PLB.I4 PLB.I5 PLB.I6 PLB.I7
     PLB.CLK PLB.EN PLB.SR
     PLB.O0 PLB.O1 PLB.O2 PLB.O3 PLB.O4 PLB.O5 PLB.O6 PLB.O7
				</loc>
    <!--
				<loc side="top" xoffset="0" yoffset="0">
     FCOUT
    </loc>
				<loc side="bottom" xoffset="0" yoffset="0">
     FCIN
				</loc>-->
   </pinlocations>
   <switchblock_locations pattern="external_full_internal_straight"/>
   <!-- Carry chain
   <input name="FCIN"  num_pins="1" equivalent="false"/>
   <output name="FCOUT" num_pins="1" equivalent="false"/>
   -->
  </pb_type>
  <!-- End PLB -->

  <!-- A PIO Pair block found in the ICE40 -->
  <pb_type name="PIO" capacity="1">
   <input name="outpad" num_pins="1"/>
   <output name="inpad" num_pins="1"/>
   <!-- IOs can operate as either inputs or outputs -->
   <mode name="inpad">
    <pb_type name="inpad" blif_model=".input" num_pb="1">
     <output name="inpad" num_pins="1"/>
    </pb_type>
    <interconnect>
     <direct name="inpad" input="inpad.inpad" output="PIO.inpad">
      <delay_constant max="4.243e-11" in_port="inpad.inpad" out_port="PIO.inpad"/>
     </direct>
    </interconnect>
   </mode>
   <mode name="outpad">
    <pb_type name="outpad" blif_model=".output" num_pb="1">
     <input name="outpad" num_pins="1"/>
    </pb_type>
    <interconnect>
     <direct name="outpad" input="PIO.outpad" output="outpad.outpad">
      <delay_constant max="1.394e-11" in_port="PIO.outpad" out_port="outpad.outpad"/>
     </direct>
    </interconnect>
   </mode>
   <fc default_in_type="frac" default_in_val="0.0" default_out_type="frac" default_out_val="0.0">
    <fc_override fc_type="abs" fc_val="2" port_name="outpad" segment_name="local"/>
    <fc_override fc_type="abs" fc_val="2" port_name="inpad" segment_name="local"/>
   </fc>
   <!-- IOs go on the periphery of the FPGA, for consistency,
        make it physically equivalent on all sides so that only one definition of I/Os is needed.
        If I do not make a physically equivalent definition, then I need to define 4 different I/Os, one for each side of the FPGA
    -->
   <pinlocations pattern="custom">
    <loc side="right">PIO.outpad PIO.inpad</loc>
   </pinlocations>
  </pb_type>
  <!-- End PIO -->
 </complexblocklist>
</architecture>
